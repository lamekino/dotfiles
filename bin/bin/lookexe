#!/bin/bash
# look(1) for executables in $PATH

[ -z "$1" ] && exit 1

PATTERN="^$1.*"
POINT="├─"
LAST_POINT="└─"

for path in ${PATH//:/ }; do
    found=$(find "$path" -printf "%f\0" 2>/dev/null \
            | grep -z --color=never "$PATTERN" \
            | tr '\0' ' ')

    [ -z "$found" ] && continue

    count=$(echo "$found" | tr -cd " " | wc -c)

    printf "%s:\n" "$path"
    for file in $found; do
        point="$POINT"
        if [ "$count" -eq 1 ]; then
            point="$LAST_POINT"
        fi
        printf "%s %s\n" "$point" "$file"
        (( count-- ))
    done
done
